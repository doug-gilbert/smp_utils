.TH SMP_REP_EXP_ROUTE_TBL "8" "May 2011" "smp_utils\-0.96" SMP_UTILS
.SH NAME
smp_rep_exp_route_tbl \- invoke REPORT EXPANDER ROUTE TABLE LIST SMP function
.SH SYNOPSIS
.B smp_rep_exp_route_tbl
[\fI\-\-brief\fR] [\fI\-\-help\fR] [\fI\-\-hex\fR]
[\fI\-\-index=IN\fR] [\fI\-\-interface=PARAMS\fR] [\fI\-\-num=NUM\fR]
[\fI\-\-phy=ID\fR] [\fI\-\-raw\fR] [\fI\-\-sa=SAS_ADDR\fR]
[\fI\-\-verbose\fR] [\fI\-\-version\fR] \fISMP_DEVICE[,N]\fR
.SH DESCRIPTION
.\" Add any additional description here
.PP
Sends a SAS Serial Management Protocol (SMP) REPORT EXPANDER ROUTE TABLE LIST
function request to an SMP target and decodes or outputs the response. The
SMP target is identified by the \fISMP_DEVICE\fR and the \fISAS_ADDR\fR.
Depending on the interface, the \fISAS_ADDR\fR may be deduced from the
\fISMP_DEVICE\fR. The mpt interface uses \fISMP_DEVICE\fR
to identify a HBA (an SMP initiator) and needs the additional \fI,N\fR to
differentiate between HBAs if there are multiple present.
.PP
There are two expander route table types: phy\-based and expander\-based.
The expander\-based route table was introduced in SAS\-2 and supersedes the
phy\-based route tables. The REPORT EXPANDER ROUTE TABLE LIST function is
associated with an expander\-based route table. There is no corresponding
CONFIGURE function because a expander\-based route table is self\-configured.
.SH OPTIONS
Mandatory arguments to long options are mandatory for short options as well.
.TP
\fB\-b\fR, \fB\-\-brief\fR
reduce the decoded response output.
.TP
\fB\-h\fR, \fB\-\-help\fR
output the usage message then exit.
.TP
\fB\-H\fR, \fB\-\-hex\fR
output the response (less the CRC field) in hexadecimal.
.TP
\fB\-i\fR, \fB\-\-index\fR=\fIIN\fR
\fIIN\fR is the starting routed SAS address index. The default value is 0.
.TP
\fB\-I\fR, \fB\-\-interface\fR=\fIPARAMS\fR
interface specific parameters. In this case "interface" refers to the
path through the operating system to the SMP initiator. See the smp_utils
man page for more information.
.TP
\fB\-n\fR, \fB\-\-num\fR=\fINUM\fR
maximum number of descriptors to fetch (default is 62). Note that maximum SMP
frame size is 1028 bytes (including a trailing 4 byte CRC) so 62 descriptors
is the maximum number that can fit in one response.
.TP
\fB\-p\fR, \fB\-\-phy\fR=\fIID\fR
starting phy identifier within bitmap. \fIID\fR should be one of 0 (the
default), or a multiple of 48. Note there is only one expnder route
table per expander, not one per phy.
.TP
\fB\-r\fR, \fB\-\-raw\fR
send the response (less the CRC field) to stdout in binary. All error
messages are sent to stderr.
.TP
\fB\-s\fR, \fB\-\-sa\fR=\fISAS_ADDR\fR
specifies the SAS address of the SMP target device. Typically this is an
expander. This option may not be needed if the \fISMP_DEVICE\fR has the
target's SAS address within it. The \fISAS_ADDR\fR is in decimal but most
SAS addresses are shown in hexadecimal. To give a number in hexadecimal
either prefix it with '0x' or put a trailing 'h' on it.
.TP
\fB\-v\fR, \fB\-\-verbose\fR
increase the verbosity of the output. Can be used multiple times
.TP
\fB\-V\fR, \fB\-\-version\fR
print the version string and then exit.
.SH CONFORMING TO
The SMP REPORT EXPANDER ROUTE TABLE LIST function was introduced in SAS\-2 .
.SH AUTHORS
Written by Douglas Gilbert.
.SH "REPORTING BUGS"
Report bugs to <dgilbert at interlog dot com>.
.SH COPYRIGHT
Copyright \(co 2007\-2011 Douglas Gilbert
.br
This software is distributed under a FreeBSD license. There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
.SH "SEE ALSO"
.B smp_utils, smp_rep_route_info
